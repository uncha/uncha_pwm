(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{407:function(t,e,n){"use strict";n.r(e);n(33);var o={props:{linked:{type:Array,required:!0},theme:{type:String,require:!1,default:"black"}},data:function(){return{userProfile:"",form:{profile_image_url:"",profile_image:""}}},computed:{authUser:function(){return this.$store.getters.authUser}},mounted:function(){this.init()},methods:{init:function(){var t=this;this.$axios.get("/api/user/".concat(this.authUser)).then((function(e){t.userProfile=e.data[0],t.form.profile_image_url=t.userProfile.profile_image}))},getProfileImageURL:function(t){return"localhost:3000"==window.location.host?"http://localhost:9102".concat(t):t},getlinkedtatusLabel:function(t){return 1==t?"연결된 엄마":"연결 전"},logout:function(){var t=this,e=window.open("https://nid.naver.com/nidlogin.logout","PopupWin","width=500,height=600");setTimeout((function(){e.close(),t.$router.push({path:"/"})}),500)},onUploadImage:function(){var t=this,e=new FormData;window.setTimeout((function(){e.append("profile_image",t.form.profile_image),t.$axios.post("/api/upload",e,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.form.profile_image_url="/uploads/".concat(e.data),t.$forceUpdate()}))}))},cancelModify:function(){this.$refs["modify-modal"].hide(),this.form.profile_image_url=this.userProfile.profile_image},saveModify:function(){var t=this;this.$axios.post("/api/user/".concat(this.authUser),{profile_image:this.form.profile_image_url}).then((function(e){t.init(),t.$refs["modify-modal"].hide()}))},disconnection:function(link){var t=this;console.log("LINK",link),this.$axios.post("/api/disconnection/".concat(link.id)).then((function(e){console.log("RES",e),t.$router.push({path:"/"})}))}}},r=(n(410),n(56)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"side-bar-baby"}},[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-right",modifiers:{"sidebar-right":!0}}],staticClass:"btn-toggle",attrs:{variant:"white"}},["black"==t.theme?n("img",{attrs:{src:"/images/btn-list.svg"}}):n("img",{attrs:{src:"/images/btn-list-white.svg"}})]),t._v(" "),n("b-sidebar",{attrs:{id:"sidebar-right",right:"",shadow:""}},[n("div",{staticClass:"sidebar-right-cont"},[n("div",{staticClass:"profile text-center"},[n("img",{staticClass:"profile-image",style:{background:"url("+t.getProfileImageURL(t.userProfile.profile_image)+")"}}),t._v(" "),n("p",{staticClass:"label"},[t._v("kyutae21c@naver.com")]),t._v(" "),n("p",{staticClass:"nick-name"},[t._v(t._s(t.userProfile.nick_name))]),t._v(" "),n("div",{staticClass:"buttons"},[n("b-button",{attrs:{variant:"light"},on:{click:t.logout}},[t._v("로그아웃")]),t._v(" "),n("b-button",{attrs:{variant:"light"},on:{click:function(e){return t.$refs["modify-modal"].show()}}},[t._v("수정")])],1)]),t._v(" "),n("div",{staticClass:"divine"}),t._v(" "),n("div",{staticClass:"linked-list"},[n("ul",t._l(t.linked,(function(link,i){return n("li",[n("b-row",[n("b-col",{attrs:{cols:"2"}},[n("img",{staticClass:"profile-image children",attrs:{src:t.getProfileImageURL(link.profile_image)}})]),t._v(" "),n("b-col",{attrs:{cols:"6"}},[n("p",{staticClass:"label"},[t._v(t._s(t.getlinkedtatusLabel(link.status)))]),t._v(" "),n("p",{staticClass:"nick-name"},[t._v(t._s(link.mom_nick_name))])]),t._v(" "),n("b-col",{attrs:{cols:"4"}},[1==link.status?n("b-button",{attrs:{variant:"light"},on:{click:function(e){return t.disconnection(link)}}},[t._v("연결 해제")]):t._e()],1)],1)],1)})),0)]),t._v(" "),n("div",{staticClass:"footer-cont"},[n("p",{staticClass:"text-right version"},[t._v("버전정보 1.00")]),t._v(" "),n("hr"),t._v(" "),n("div",{staticClass:"info"},[n("p",{staticClass:"company mb-0"},[t._v("㈜엑스티")]),t._v(" "),n("p",{staticClass:"details"},[t._v("서울시 관악구 남부순환로 1531, 2층"),n("br"),t._v("\n            사업자등록번호 822-88-00882"),n("br"),t._v("\n            대표 김현수, 송의택"),n("br"),t._v("\n            TEL 02-853-6582")])])])])]),t._v(" "),n("b-modal",{ref:"modify-modal",attrs:{id:"modify-modal",title:"프로필 수정","hide-footer":"",centered:""}},[n("div",{staticClass:"profile text-center"},[n("img",{staticClass:"profile-image",attrs:{src:t.getProfileImageURL(t.form.profile_image_url)}}),t._v(" "),n("div",{staticClass:"profile-image-wrapper"},[n("div",{staticClass:"box-file-input"},[n("label",[n("b-form-group",{attrs:{label:""}},[n("b-form-file",{staticClass:"mt-3",attrs:{accept:"image/jpeg, image/png, image/gif",plain:""},on:{change:t.onUploadImage},model:{value:t.form.profile_image,callback:function(e){t.$set(t.form,"profile_image",e)},expression:"form.profile_image"}})],1)],1),t._v(" "),n("p",[t._v("\n            사진등록\n          ")])])]),t._v(" "),n("b-row",[n("b-col",{staticClass:"pl-1 pr-1",attrs:{cols:"5"}},[n("b-button",{attrs:{variant:"light"},on:{click:t.cancelModify}},[t._v("취소")])],1),t._v(" "),n("b-col",{staticClass:"pl-1 pr-1",attrs:{cols:"7"}},[n("b-button",{attrs:{variant:"primary"},on:{click:t.saveModify}},[t._v("저장")])],1)],1)],1)])],1)}),[],!1,null,null,null);e.default=component.exports},408:function(t,e,n){var content=n(411);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(83).default)("7fd5faac",content,!0,{sourceMap:!1})},409:function(t,e,n){var content=n(414);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(83).default)("6de095c5",content,!0,{sourceMap:!1})},410:function(t,e,n){"use strict";n(408)},411:function(t,e,n){(e=n(82)(!1)).push([t.i,'#modify-modal .profile-image{width:80px;height:80px;border-radius:100%;margin:0 auto}#modify-modal .profile-image.children{width:48px;height:48px}#modify-modal .profile-image-wrapper{position:relative;margin:2.625rem auto 10.0625rem}#modify-modal .profile-image-wrapper .box-file-input{position:absolute;z-index:6;text-align:center;left:0;right:0}#modify-modal .profile-image-wrapper .box-file-input .form-group{margin-bottom:0}#modify-modal .profile-image-wrapper .box-file-input label{display:inline-block;background:#497ff5;color:#fff;cursor:pointer;border-radius:100%}#modify-modal .profile-image-wrapper .box-file-input label:after{background-size:4rem 4rem;display:inline-block;background-position:0 0;background-repeat:no-repeat;width:4rem;height:3.6875rem;content:"";background-image:url(/images/icon_camera_02.png)}#modify-modal .profile-image-wrapper .box-file-input input[type=file]{display:none}#modify-modal .profile-image-wrapper .box-file-input .filename{display:inline-block;padding-left:.625rem}#side-bar-baby .btn-toggle{position:fixed;top:1.25rem;right:.75rem;width:auto}#side-bar-baby .b-sidebar-header{position:absolute;top:15px;right:5px}#side-bar-baby .b-sidebar-header .close{color:#000!important}#sidebar-right{width:100%;background:#fff!important}#sidebar-right .sidebar-right-cont{padding:70px 24px 24px}#sidebar-right .profile-image{width:80px;height:80px;border-radius:100%;background-size:cover!important}#sidebar-right .profile-image.children{width:48px;height:48px}#sidebar-right .label{font-size:14px;color:#aaa;margin-top:10px;margin-bottom:0}#sidebar-right .nick-name{font-size:20px}#sidebar-right button.btn{width:auto;height:auto;font-size:12px}#sidebar-right .buttons{margin-bottom:30px}#sidebar-right .footer-cont{margin-top:60px}#sidebar-right .footer-cont .info{color:#aaa;font-size:12px;line-height:18px}#sidebar-right .footer-cont .info .company{line-height:30px}#sidebar-right .footer-cont .version{font-size:12px;color:#aaa;margin-bottom:0}#sidebar-right .footer-cont hr{margin:.5rem 0}#sidebar-right .linked-list>ul>li{padding:20px 0;border-bottom:1px solid #eee}#sidebar-right .linked-list>ul>li .label{margin:0;font-size:12px}#sidebar-right .linked-list>ul>li .nick-name{margin:0;font-size:16px}#sidebar-right .linked-list>ul>li button.btn{float:right;font-size:12px;margin-top:8px}#sidebar-right .linked-list>ul>li button.btn.add-chilren{background:#497ff5}#sidebar-right .linked-list>ul>li:last-child{border-bottom:0}',""]),t.exports=e},413:function(t,e,n){"use strict";n(409)},414:function(t,e,n){(e=n(82)(!1)).push([t.i,".top-area[data-v-3dcded50]{position:fixed;top:0;z-index:999;width:100%;left:0;padding:2.875rem .625rem 0;margin-bottom:1.875rem}.btn-back[data-v-3dcded50]{width:auto;height:auto;padding:0 .625rem}.btn-link[data-v-3dcded50]{border:1px solid #ddd;border-radius:6.25rem;padding:.125rem .9375rem .125rem .125rem;font-size:.875rem;color:#000;text-decoration:none;margin-right:.75rem;left:-.75rem;position:relative}.btn-link.bg0[data-v-3dcded50]{background:#ff7ba6;color:#fff}.btn-link.bg1[data-v-3dcded50]{background:#7b97ff;color:#fff}.face[data-v-3dcded50]{width:2.75rem;height:2.75rem;border-radius:100%}.face[data-v-3dcded50],.face2[data-v-3dcded50]{margin-right:.375rem}.face2[data-v-3dcded50]{width:2.25rem;height:2rem}.message[data-v-3dcded50]{position:relative;left:-14px;top:2px}",""]),t.exports=e},415:function(t,e,n){"use strict";var o={components:{"side-bar":n(407).default},props:{linked:{type:Object,required:!1},backURL:{type:String,required:!1,default:null},theme:{type:String,require:!1,default:"black"}},methods:{back:function(){this.backURL?this.$router.push({path:this.backURL}):this.$router.go(-1)}}},r=(n(413),n(56)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top-area"},[t.backURL?n("a",{staticClass:"btn-back",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.back(e)}}},[n("img",{attrs:{src:"/images/btn-back02.svg"}})]):t._e(),t._v(" "),t.linked.length>0?n("side-bar",{attrs:{linked:t.linked,theme:t.theme}}):t._e()],1)}),[],!1,null,"3dcded50",null);e.a=component.exports;installComponents(component,{SideBar:n(407).default})},437:function(t,e,n){var content=n(522);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(83).default)("45ddca1a",content,!0,{sourceMap:!1})},521:function(t,e,n){"use strict";n(437)},522:function(t,e,n){(e=n(82)(!1)).push([t.i,".success-gift[data-v-1fdcab68]{background-size:cover!important;border-radius:100%;width:6.25rem;height:6.25rem;margin:0 auto}.quest-start .title[data-v-1fdcab68]{text-align:center;padding:1.625rem;font-size:1.5rem;font-weight:500;bottom:1000px;position:absolute;width:calc(100% - 50px)}.quest-start .title.white-box[data-v-1fdcab68]{color:#000}.btn-challege[data-v-1fdcab68]{background:#fff;color:#1d7ff1}.baby-icon[data-v-1fdcab68]{position:fixed;bottom:25px;width:100%;left:0}",""]),t.exports=e},577:function(t,e,n){"use strict";n.r(e);n(17),n(33),n(63);var o=n(25),r=(n(519),{components:{top:n(415).a},data:function(){return{step:1,timerId:"",linked:"",questGroup:""}},computed:{authUser:function(){return this.$store.getters.authUser},giftImageURL:function(){return"localhost:3000"==window.location.host?"http://localhost:9102".concat(this.questGroup.success_gift):this.questGroup.success_gift},links:function(){return this.$store.getters["Baby/linked"]}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var time,n,o,r,l,d,c,m,f,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _=function(){n.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),o.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),r.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),l.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),setTimeout((function(){n.classList.add("animate__animated","animate__slideInUp"),n.style.bottom="860px",o.classList.add("animate__animated","animate__slideInUp"),o.style.bottom="810px",r.classList.add("animate__animated","animate__slideInUp"),r.style.bottom="670px",l.classList.add("animate__animated","animate__slideInUp"),l.style.bottom="417px",d.classList.add("animate__animated","animate__fadeInUp"),d.style.bottom="195px"}),time)},f=function(){n.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),o.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),r.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),setTimeout((function(){n.classList.add("animate__animated","animate__slideInUp"),n.style.bottom="737px",o.classList.add("animate__animated","animate__slideInUp"),o.style.bottom="587px",r.classList.add("animate__animated","animate__slideInUp"),r.style.bottom="447px",l.classList.add("animate__animated","animate__fadeInUp"),l.style.bottom="195px"}),time)},m=function(){n.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),o.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),setTimeout((function(){n.classList.add("animate__animated","animate__slideInUp"),n.style.bottom="495px",o.classList.add("animate__animated","animate__slideInUp"),o.style.bottom="345px",r.classList.add("animate__animated","animate__fadeInUp"),r.style.bottom="195px"}),time)},c=function(){n.classList.remove("animate__animated","animate__fadeInUp","animate__slideInUp"),setTimeout((function(){n.classList.add("animate__animated","animate__slideInUp"),n.style.bottom="345px",o.classList.add("animate__animated","animate__fadeInUp"),o.style.bottom="195px"}),time)},time=1e3,n=t.$refs.title1,o=t.$refs.title2,r=t.$refs.title3,l=t.$refs.title4,d=t.$refs.title5,n.classList.add("animate__animated","animate__fadeInUp"),n.style.bottom="195px",n.addEventListener("animationend",c,{once:!0}),o.addEventListener("animationend",m,{once:!0}),r.addEventListener("animationend",f,{once:!0}),l.addEventListener("animationend",_,{once:!0}),e.next=18,t.loadData();case 18:return t.linked=e.sent,e.next=21,t.loadQuestGroup();case 21:t.questGroup=e.sent,console.log("THIS.QUESTGROUP",t.questGroup);case 23:case"end":return e.stop()}}),e)})))()},methods:{loadData:function(){var t=this;return new Promise((function(e){t.$axios.get("/api/linked/baby",{params:{baby_nick_names:t.authUser}}).then((function(t){e(t.data[0])}))}))},loadQuestGroup:function(){var t=this;return new Promise((function(e){t.$axios.get("/api/selectQuestGroup/".concat(t.linked.id)).then((function(t){e(t.data[0])}))}))},onChallenge:function(){var t=this;this.$axios.post("/api/ChallengeQuest/".concat(this.questGroup.id)).then((function(e){console.log("RES",e),t.$router.push({path:"/baby/quest/confirm"})}))}}}),l=(n(521),n(56)),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"quest-start"},[n("div",{ref:"title1",staticClass:"title blue-box"},[t._v("\n      "+t._s(t.authUser)+"야, "),n("br"),t._v("\n      오늘부터\n    ")]),t._v(" "),n("div",{ref:"title2",staticClass:"title white-box mt-4"},[n("span",{staticClass:"text-primary"},[t._v("매일매일")]),t._v(" 새로운"),n("br"),t._v("\n      퀘스트가 시작될거야.\n    ")]),t._v(" "),n("div",{ref:"title3",staticClass:"title white-box"},[n("span",{staticClass:"text-primary"},[t._v("총 "+t._s(t.questGroup.success_count)+"개의")]),t._v(" 퀘스트를"),n("br"),t._v("\n      달성하면,\n    ")]),t._v(" "),n("div",{ref:"title4",staticClass:"title blue-box"},[n("p",{staticClass:"success-gift mb-1",style:{background:"url("+t.giftImageURL+")"}}),t._v("\n      이 선물이"),n("br"),t._v("\n      기다리고 있을거야\n    ")]),t._v(" "),n("div",{ref:"title5",staticClass:"title blue-box"},[t._v("\n      엄마의\n      퀘스트에"),n("br"),t._v("\n      도전해 볼래?\n      "),n("b-button",{staticClass:"btn-challege mt-4",attrs:{variant:"white"},on:{click:function(e){return t.onChallenge()}}},[t._v("도전할래!")])],1),t._v(" "),t._m(0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"baby-icon text-center"},[e("img",{attrs:{src:"/images/baby-tutorial-icon.svg"}})])}],!1,null,"1fdcab68",null);e.default=component.exports}}]);