(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{409:function(t,e,c){var content=c(414);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,c(83).default)("6de095c5",content,!0,{sourceMap:!1})},413:function(t,e,c){"use strict";c(409)},414:function(t,e,c){(e=c(82)(!1)).push([t.i,".top-area[data-v-3dcded50]{position:fixed;top:0;z-index:999;width:100%;left:0;padding:2.875rem .625rem 0;margin-bottom:1.875rem}.btn-back[data-v-3dcded50]{width:auto;height:auto;padding:0 .625rem}.btn-link[data-v-3dcded50]{border:1px solid #ddd;border-radius:6.25rem;padding:.125rem .9375rem .125rem .125rem;font-size:.875rem;color:#000;text-decoration:none;margin-right:.75rem;left:-.75rem;position:relative}.btn-link.bg0[data-v-3dcded50]{background:#ff7ba6;color:#fff}.btn-link.bg1[data-v-3dcded50]{background:#7b97ff;color:#fff}.face[data-v-3dcded50]{width:2.75rem;height:2.75rem;border-radius:100%}.face[data-v-3dcded50],.face2[data-v-3dcded50]{margin-right:.375rem}.face2[data-v-3dcded50]{width:2.25rem;height:2rem}.message[data-v-3dcded50]{position:relative;left:-14px;top:2px}",""]),t.exports=e},415:function(t,e,c){"use strict";var n={components:{"side-bar":c(407).default},props:{linked:{type:Object,required:!1},backURL:{type:String,required:!1,default:null},theme:{type:String,require:!1,default:"black"}},methods:{back:function(){this.backURL?this.$router.push({path:this.backURL}):this.$router.go(-1)}}},r=(c(413),c(56)),component=Object(r.a)(n,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"top-area"},[t.backURL?c("a",{staticClass:"btn-back",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.back(e)}}},[c("img",{attrs:{src:"/images/btn-back02.svg"}})]):t._e(),t._v(" "),t.linked.length>0?c("side-bar",{attrs:{linked:t.linked,theme:t.theme}}):t._e()],1)}),[],!1,null,"3dcded50",null);e.a=component.exports;installComponents(component,{SideBar:c(407).default})},433:function(t,e,c){var content=c(512);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,c(83).default)("75bde494",content,!0,{sourceMap:!1})},511:function(t,e,c){"use strict";c(433)},512:function(t,e,c){(e=c(82)(!1)).push([t.i,".quest-box[data-v-11f5bcc6]{height:calc(100% - 134px)}.quest-success-count[data-v-11f5bcc6]{padding:1.875rem;position:fixed;bottom:0;left:0;background:#fff;width:100%}.quest-success-count .name[data-v-11f5bcc6]{font-family:NotoSansCJKkr-Bold!important}.quest-success-count .btn-next[data-v-11f5bcc6]{position:absolute;padding:.4rem;width:auto;height:auto;line-height:1rem;right:-.5rem;top:.625rem}.btn-white[data-v-11f5bcc6]{background:#fff;color:#1ec89b}.profile-image[data-v-11f5bcc6]{background-size:cover!important}.button-wrap[data-v-11f5bcc6]{position:fixed;left:0;bottom:160px;width:100%;padding:0 1.875rem}.quest-success[data-v-11f5bcc6]{color:#fff;text-align:center}.quest-success .msg[data-v-11f5bcc6]{font-size:1.875rem;line-height:1.5;font-weight:700}.quest-success .txt-dk[data-v-11f5bcc6]{font-size:1.625rem;font-weight:700}.quest-success .img-success-carot[data-v-11f5bcc6]{margin:0 auto 1.25rem;width:15.375rem;line-height:15.375rem;border-radius:100%;background:#a4e9d6}.quest-fail[data-v-11f5bcc6]{color:#fff;text-align:center}.quest-fail .msg[data-v-11f5bcc6]{font-size:1.875rem;line-height:1.5;font-weight:700}.quest-fail .txt-dk[data-v-11f5bcc6]{font-size:1.625rem;font-weight:700}.quest-fail .img-fail-carot[data-v-11f5bcc6]{margin:3.5rem auto 1.25rem}.bottom-wrap[data-v-11f5bcc6]{bottom:8.125rem}",""]),t.exports=e},574:function(t,e,c){"use strict";c.r(e);c(4),c(17),c(33),c(63);var n=c(25),r={components:{top:c(415).a},data:function(){return{questGroup:[],quest:[],intervalId:"",profileImageUrl:"",max:100,mom:""}},computed:{linked:function(){return this.$store.getters["Baby/linked"]},unSuccessQuest:function(){return _.filter(this.quest,(function(t){return 2!=t.complete_sate}))},successCount:function(){return _.filter(this.quest,(function(t){return 1==t.success_state})).length},authUser:function(){return this.$store.getters.authUser},profileImage:function(){return"localhost:3000"==window.location.host?"http://localhost:9102".concat(this.profileImageUrl):this.profileImageUrl},progress:function(){return this.questGroup[0]?this.successCount/this.questGroup[0].success_count*100:0}},mounted:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.init(),e.next=3,t.loadMom();case 3:t.mom=e.sent,t.profileImageUrl=t.mom.profile_image,t.intervalId=setInterval((function(){t.init()}),5e3);case 6:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadQuestGroup();case 2:return t.questGroup=e.sent,console.log("this.questGroup",t.questGroup),e.next=6,t.loadQuest();case 6:t.quest=e.sent;case 7:case"end":return e.stop()}}),e)})))()},loadMom:function(){var t=this;return new Promise((function(e){t.$axios.get("/api/user/".concat(t.linked[0].mom_nick_name)).then((function(t){e(t.data[0])}))}))},loadProfile:function(){var t=this;this.$axios.get("/api/user/".concat(this.authUser)).then((function(e){console.log(e),t.userProfile=e.data[0],t.profileImageUrl=t.userProfile.profile_image}))},loadQuestGroup:function(){var t=this;return new Promise((function(e){t.$axios.get("/api/selectQuestGroup/".concat(t.linked[0].id)).then((function(t){e(t.data)}))}))},loadQuest:function(){var t=this;return new Promise((function(e){t.$axios.get("/api/selectQuest/".concat(t.questGroup[0].id)).then((function(t){var c=_.sortBy(t.data,(function(t){return t.start_date}));e(c)}))}))},setNextQuest:function(){var t=this;this.$axios.post("/api/completeQuest/".concat(this.unSuccessQuest[0].id)).then((function(e){t.init()}))},onCompleteQuest:function(){var t=this;this.$axios.post("/api/completeQuestGroup/".concat(this.questGroup[0].id),{state:"1"}).then((function(e){t.$router.push({path:"/baby/quest/complete"})}))}},destroyed:function(){this.intervalId&&window.clearInterval(this.intervalId)}},o=(c(511),c(56)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",[c("top",{attrs:{linked:t.linked,theme:"white"}}),t._v(" "),c("div",{staticClass:"quest-box",class:{"quest-fail":t.unSuccessQuest[0]&&2==t.unSuccessQuest[0].success_state}},[t.unSuccessQuest[0]&&t.questGroup[0]?[0==t.unSuccessQuest[0].complete_sate?[c("p",{staticClass:"text-white"},[t._v("수행 퀘스트")]),t._v(" "),c("h1",{staticClass:"quest-name text-white"},[t._v('"'+t._s(t.unSuccessQuest[0].title)+'"')]),t._v(" "),c("div",{staticClass:"button-wrap"},[t._m(0),t._v(" "),c("b-button",{staticClass:"btn-confirm btn-white",attrs:{variant:"white"},on:{click:function(e){return t.$router.push({path:"/baby/quest/perform"})}}},[t._v("완료 했나요?")])],1)]:1==t.unSuccessQuest[0].complete_sate?[t.successCount!=t.questGroup[0].success_count?[0==t.unSuccessQuest[0].success_state?[c("p",{staticClass:"mb-0 text-white"},[t._v("수행 퀘스트")]),t._v(" "),t._m(1),t._v(" "),t._m(2)]:1==t.unSuccessQuest[0].success_state?[t._m(3)]:2==t.unSuccessQuest[0].success_state?[t._m(4)]:t._e()]:[t._m(5)]]:t._e()]:t._e()],2),t._v(" "),t.questGroup[0]?[t.successCount!=t.questGroup[0].success_count?[c("div",{staticClass:"bottom-wrap"},[t.unSuccessQuest[0]&&t.unSuccessQuest[0].success_state>0?c("b-button",{staticClass:"mt-4  btn-white",attrs:{variant:"primary"},on:{click:t.setNextQuest}},[t._v("다음 퀘스트 확인하기")]):t._e()],1)]:[c("div",{staticClass:"bottom-wrap"},[t.unSuccessQuest[0]&&t.unSuccessQuest[0].success_state>0?c("b-button",{staticClass:"mt-4  btn-white",attrs:{variant:"primary"},on:{click:t.onCompleteQuest}},[t._v("퀘스트 완료")]):t._e()],1)]]:t._e(),t._v(" "),c("div",{staticClass:"quest-success-count"},[c("div",{staticClass:"row"},[c("div",{staticClass:"inline-col"},[c("div",{staticClass:"profile-image",style:{background:"url("+t.profileImage+")",width:"54px",height:"54px","border-radius":"100%"}})]),t._v(" "),c("div",{staticClass:"col pl-2 pr-6"},[c("div",{staticClass:"row mb-2"},[c("div",{staticClass:"col"},[c("p",{staticClass:"mb-0 name"},[t._v(t._s(this.mom.nick_name))])]),t._v(" "),this.questGroup[0]?c("div",{staticClass:"col text-right"},[t._v("\n            "+t._s(this.questGroup[0].success_count)+"개 중 "),c("span",{staticClass:"text-primary"},[t._v(t._s(t.successCount))]),t._v("개 달성 중\n          ")]):t._e()]),t._v(" "),c("b-progress",{staticClass:"mb-3",attrs:{value:t.progress,max:t.max,precision:2}}),t._v(" "),c("b-button",{staticClass:"btn-next",attrs:{variant:"white"}},[c("img",{attrs:{src:"/images/btn-next2.svg"}})])],1)])])],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"text-center"},[e("img",{attrs:{src:"/images/icon-dangen.svg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{staticClass:"ing text-white"},[this._v("\n              엄마가 퀘스트 완료를"),e("br"),this._v("\n              확인중 이에요...\n            ")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"text-center"},[e("img",{attrs:{src:"/images/img-confirm.svg"}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"quest-success"},[e("p",{staticClass:"msg"},[this._v("짝짝짝 "),e("br"),this._v("퀘스트 성공!")]),this._v(" "),e("p",{staticClass:"img-success-carot"},[e("img",{staticClass:"img-dk",attrs:{src:"/images/img-success-carot.svg"}})]),this._v(" "),e("p",{staticClass:"txt-dk"},[this._v("당근획득 +1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"quest-fail"},[e("p",{staticClass:"msg"},[this._v("아쉬워라~ㅠㅠ")]),this._v(" "),e("p",{staticClass:"img-fail-carot"},[e("img",{staticClass:"img-dk",attrs:{src:"/images/img-fail-carot.svg"}})]),this._v(" "),e("p",{staticClass:"txt-dk"},[this._v("당근획득 +0")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"quest-success"},[e("p",{staticClass:"msg"},[this._v("짝짝짝 "),e("br"),this._v("퀘스트 성공!")]),this._v(" "),e("p",{staticClass:"img-success-carot"},[e("img",{staticClass:"img-dk",attrs:{src:"/images/img-success-carot.svg"}})]),this._v(" "),e("p",{staticClass:"txt-dk"},[this._v("당근획득 +1")])])}],!1,null,"11f5bcc6",null);e.default=component.exports;installComponents(component,{Top:c(404).default})}}]);